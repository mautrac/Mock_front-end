{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\VTI\\\\6.Mock Project\\\\Mock\\\\Mock_front-end #2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\VTI\\\\6.Mock Project\\\\Mock\\\\Mock_front-end #2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\VTI\\\\6.Mock Project\\\\Mock\\\\Mock_front-end #2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\VTI\\\\6.Mock Project\\\\Mock\\\\Mock_front-end #2\\\\src\\\\pages\\\\acount\\\\AddAccountAdmin.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Card, CardBody, Col, Container, FormGroup, Row, Modal, ModalBody, ModalFooter, ModalHeader, Label } from \"reactstrap\";\nimport { FastField, Form, Formik, Field } from \"formik\";\nimport { ReactstrapInput } from \"reactstrap-formik\";\nimport * as Yup from 'yup';\nimport userApi from '../../api/UserApi';\nimport store from \"../../redux/store\";\nimport { toastr } from \"react-redux-toastr\";\n\nfunction AddAccountAdmin(props) {\n  var _this = this;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpenModalCreate = _useState2[0],\n      setOpenModalCreate = _useState2[1];\n\n  var showSuccessNotification = function showSuccessNotification(title, message) {\n    var options = {\n      timeOut: 3000,\n      showCloseButton: false,\n      progressBar: false,\n      position: \"top-right\"\n    }; // show notification\n\n    toastr.success(title, message, options);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpenModalCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      firstname: '',\n      lastName: '',\n      userName: '',\n      password: '',\n      confirmPassword: '',\n      email: '',\n      role: ''\n    },\n    validationSchema: Yup.object({\n      firstname: Yup.string().required(\"Required\").min(1, 'Required'),\n      lastName: Yup.string().required(\"Required\").min(1, 'Required'),\n      userName: Yup.string().min(6, 'Must be between 6 and 50 characters').max(50, 'Must be between 6 and 50 characters').required('Required').test('checkUniqueUserName', 'This user name is already registered.', /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(userName) {\n          var isExists;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return userApi.existsByUsername2(1);\n\n                case 2:\n                  isExists = _context.sent;\n                  return _context.abrupt(\"return\", !isExists);\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()),\n      password: Yup.string().min(6, 'Must be between 6 and 50 characters').max(50, 'Must be between 6 and 50 characters').required('Required'),\n      confirmPassword: Yup.string().required('Required').when(\"password\", {\n        is: function is(value) {\n          return value && value.length > 0 ? true : false;\n        },\n        then: Yup.string().oneOf([Yup.ref(\"password\")], \"Confirm Password do not match\")\n      }),\n      email: Yup.string().email('Invalid email address').required('Required').test('checkExistsEmail', 'This email is already registered.', /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(email) {\n          var isExists;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  // call api\n                  isExists = //await userApi.existsByEmail(email);\n                  false;\n                  return _context2.abrupt(\"return\", !isExists);\n\n                case 2:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }())\n    }),\n    onSubmit: /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(values) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return userApi.createAccountFromAdmin(values);\n\n              case 3:\n                // show notification\n                showSuccessNotification(\"Create Addcount\", \"Create Account Successfully!\"); // close modal\n\n                setOpenModalCreate(false); // Refresh table\n\n                props.refreshForm();\n                _context3.next = 13;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log(_context3.t0);\n                setOpenModalCreate(false); // redirect page error server\n\n                props.history.push(\"/auth/500\");\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 8]]);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    validateOnChange: false,\n    validateOnBlur: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, function (_ref4) {\n    var isSubmitting = _ref4.isSubmitting;\n    return /*#__PURE__*/React.createElement(Form, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, \"Create Account\"), /*#__PURE__*/React.createElement(ModalBody, {\n      className: \"m-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"First Name\",\n      type: \"text\",\n      bsSize: \"lg\",\n      name: \"firstName\",\n      placeholder: \"Enter first name\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"Last Name\",\n      type: \"text\",\n      bsSize: \"lg\",\n      name: \"lastName\",\n      placeholder: \"Enter last name\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"Username\",\n      type: \"text\",\n      bsSize: \"lg\",\n      name: \"userName\",\n      placeholder: \"Enter username\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"Email\",\n      type: \"email\",\n      bsSize: \"lg\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"Password\",\n      type: \"password\",\n      bsSize: \"lg\",\n      name: \"password\",\n      placeholder: \"Enter password\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FastField, {\n      label: \"Confirm Password\",\n      type: \"password\",\n      bsSize: \"lg\",\n      name: \"confirmPassword\",\n      placeholder: \"Enter confirm password\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      \"label-for\": \"role\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, \"Select role: \"), /*#__PURE__*/React.createElement(Field, {\n      as: \"select\",\n      name: \"role\",\n      placeholder: \"Select role\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"admin\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    }, \"Admin\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"manager\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }, \"Manager\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"user\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 23\n      }\n    }, \"User\")))), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      disabled: isSubmitting,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, \"Save\"), \" \", /*#__PURE__*/React.createElement(Button, {\n      onClick: test_fun,\n      disabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: function onClick() {\n        return setOpenModalCreate(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, \"Close\")));\n  }));\n}\n\nvar test_fun = function test_fun() {\n  console.log(\"FUK\");\n};\n\nexport default AddAccountAdmin;","map":{"version":3,"sources":["D:/VTI/6.Mock Project/Mock/Mock_front-end #2/src/pages/acount/AddAccountAdmin.js"],"names":["React","useEffect","useState","Button","Card","CardBody","Col","Container","FormGroup","Row","Modal","ModalBody","ModalFooter","ModalHeader","Label","FastField","Form","Formik","Field","ReactstrapInput","Yup","userApi","store","toastr","AddAccountAdmin","props","isOpenModalCreate","setOpenModalCreate","showSuccessNotification","title","message","options","timeOut","showCloseButton","progressBar","position","success","firstname","lastName","userName","password","confirmPassword","email","role","object","string","required","min","max","test","existsByUsername2","isExists","when","is","value","length","then","oneOf","ref","values","createAccountFromAdmin","refreshForm","console","log","history","push","isSubmitting","test_fun"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Card,\n  CardBody,\n  Col,\n  Container,\n  FormGroup,\n  Row,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  Label,\n} from \"reactstrap\";\nimport { FastField, Form, Formik, Field } from \"formik\";\nimport { ReactstrapInput } from \"reactstrap-formik\";\nimport * as Yup from 'yup';\nimport userApi from '../../api/UserApi'\nimport store from \"../../redux/store\";\nimport { toastr } from \"react-redux-toastr\";\n\nfunction AddAccountAdmin(props) {\n\n  const [isOpenModalCreate, setOpenModalCreate] = useState(true);\n  \n  const showSuccessNotification = (title, message) => {\n    const options = {\n      timeOut: 3000,\n      showCloseButton: false,\n      progressBar: false,\n      position: \"top-right\"\n    };\n\n    // show notification\n    toastr.success(title, message, options);\n  }\n\n  return (\n    <Modal isOpen={isOpenModalCreate}>\n        <Formik\n            initialValues={\n                {\n                    firstname: '',\n                    lastName: '',\n                    userName: '',\n                    password: '',\n                    confirmPassword: '',\n                    email: '',\n                    role: ''\n                }\n            }\n            validationSchema={\n                Yup.object({\n                    firstname: Yup.string()\n                        .required(\"Required\")\n                        .min(1, 'Required'),\n                    lastName: Yup.string()\n                        .required(\"Required\")\n                        .min(1, 'Required'),\n                    userName: Yup.string()\n                        .min(6, 'Must be between 6 and 50 characters')\n                        .max(50, 'Must be between 6 and 50 characters')\n                        .required('Required')\n                        .test('checkUniqueUserName', 'This user name is already registered.', async userName => {\n                        // call api\n                        const isExists = await userApi.existsByUsername2(1);\n                        \n                        return !isExists;\n                        }),\n                    password: Yup.string()\n                        .min(6, 'Must be between 6 and 50 characters')\n                        .max(50, 'Must be between 6 and 50 characters')\n                        .required('Required'),\n                    confirmPassword: Yup.string()\n                        .required('Required')\n                        .when(\"password\", {\n                            is: value => (value && value.length > 0 ? true : false),\n                            then: Yup.string().oneOf(\n                            [Yup.ref(\"password\")],\n                            \"Confirm Password do not match\"\n                            )\n                        }),\n                    email: Yup.string()\n                        .email('Invalid email address')\n                        .required('Required')\n                        .test('checkExistsEmail', 'This email is already registered.', async email => {\n                            // call api\n                            const isExists = //await userApi.existsByEmail(email);\n                            false;\n                            return !isExists;\n                        })\n                    \n                    \n                })\n          }\n\n          onSubmit={\n            async values => {\n\n              try {\n                await userApi.createAccountFromAdmin(values);\n                // show notification\n                showSuccessNotification(\n                  \"Create Addcount\",\n                  \"Create Account Successfully!\"\n                );\n                // close modal\n                setOpenModalCreate(false);\n                // Refresh table\n                props.refreshForm();\n              } catch (error) {\n                console.log(error);\n                setOpenModalCreate(false);\n                // redirect page error server\n                props.history.push(\"/auth/500\");\n              }\n            }\n          }\n\n          validateOnChange={false}\n          validateOnBlur={false}\n        >\n          {({ isSubmitting }) => (\n            <Form>\n              {/* header */}\n              <ModalHeader>Create Account</ModalHeader>\n\n              {/* body */}\n              <ModalBody className=\"m-3\">\n              <FormGroup>\n                    <FastField\n                      label=\"First Name\"\n                      type=\"text\"\n                      bsSize=\"lg\"\n                      name=\"firstName\"\n                      placeholder=\"Enter first name\"\n                      component={ReactstrapInput}\n                    />\n                  </FormGroup>\n\n                  <FormGroup>\n                    <FastField\n                      label=\"Last Name\"\n                      type=\"text\"\n                      bsSize=\"lg\"\n                      name=\"lastName\"\n                      placeholder=\"Enter last name\"\n                      component={ReactstrapInput}\n                    />\n                  </FormGroup>\n\n                  <FormGroup>\n                    <FastField\n                      label=\"Username\"\n                      type=\"text\"\n                      bsSize=\"lg\"\n                      name=\"userName\"\n                      placeholder=\"Enter username\"\n                      component={ReactstrapInput}\n                    />\n                  </FormGroup>\n\n                  <FormGroup>\n                    <FastField\n                      label=\"Email\"\n                      type=\"email\"\n                      bsSize=\"lg\"\n                      name=\"email\"\n                      placeholder=\"Enter email\"\n                      component={ReactstrapInput}\n                    />\n                  </FormGroup>\n\n                  <FormGroup>\n                    <FastField\n                      label=\"Password\"\n                      type=\"password\"\n                      bsSize=\"lg\"\n                      name=\"password\"\n                      placeholder=\"Enter password\"\n                      component={ReactstrapInput}\n                    />\n                  </FormGroup>\n\n                  <FormGroup>\n                    <FastField\n                      label=\"Confirm Password\"\n                      type=\"password\"\n                      bsSize=\"lg\"\n                      name=\"confirmPassword\"\n                      placeholder=\"Enter confirm password\"\n                      component={ReactstrapInput}\n                    />\n                  </FormGroup>\n\n                  <FormGroup>\n                    <Label label-for=\"role\" >Select role: </Label>\n                    <Field as=\"select\" name=\"role\" placeholder=\"Select role\">\n                      <option value=\"admin\">Admin</option>\n                      <option value=\"manager\">Manager</option>\n                      <option value=\"user\">User</option>\n                    </Field>\n                  </FormGroup>\n\n                  \n              </ModalBody>\n\n              {/* footer */}\n              <ModalFooter>\n                <Button type=\"submit\" color=\"primary\" disabled={isSubmitting}>\n                  Save\n                </Button>{\" \"}\n\n                <Button onClick={test_fun} disabled={true}></Button>\n\n                <Button color=\"primary\" onClick={() => setOpenModalCreate(false)}>\n                  Close\n                </Button>\n              </ModalFooter>\n            </Form>\n          )}\n        </Formik >\n      </Modal>\n  )\n\n}\n\nvar test_fun = () => {\n  console.log(\"FUK\");\n}\n\nexport default AddAccountAdmin;"]},"metadata":{},"sourceType":"module"}